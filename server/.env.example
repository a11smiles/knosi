# Anthropic API Key (required for PDF parsing and chat)
ANTHROPIC_API_KEY=sk-ant-xxxxx

# PostgreSQL password
POSTGRES_PASSWORD=your-secure-password-here

# API key for client authentication (optional, but recommended for remote access)
# Leave as "change-me-in-production" to disable authentication
API_SECRET_KEY=your-api-secret-key-here

# Optional settings
MAX_FILE_SIZE_MB=100
CHUNK_SIZE=4000
CHUNK_OVERLAP=200

# PDF processing settings
# Pages per batch when processing large PDFs (default: 20)
# Reduce this if hitting rate limits or timeouts
PDF_BATCH_SIZE=20

# Rate limit for PDF batches (batches per minute, 0 = no limit)
# Example: 1 = 1 batch per minute (very slow but avoids rate limits)
# Example: 6 = 1 batch every 10 seconds
# Example: 60 = no rate limiting (default)
PDF_BATCHES_PER_MINUTE=60

# Optional: Limit total number of batches for testing (uncomment to enable)
# Useful for testing rate limiting without waiting for entire large PDFs
# Example: PDF_MAX_BATCHES=5 will process only first 5 batches
# Leave commented out or unset for no limit (process entire PDF)
#PDF_MAX_BATCHES=5

# PostgreSQL data directory (optional)
# By default, uses a Docker named volume. Set this to use a custom path instead.
# Useful for mounting block storage (e.g., /mnt/knosi-data/pgdata)
# The path must exist and be writable by the postgres user (UID 999)
# IMPORTANT: Use a subdirectory, not the mount root (to avoid lost+found conflicts)
# Example: POSTGRES_DATA_PATH=/mnt/knosi-data/pgdata
#POSTGRES_DATA_PATH=

# Ports (external ports that services listen on)
API_PORT=48550
WEB_PORT=48080

# Server URL (for web frontend to connect to API)
# Use your server's public IP or domain name
# Examples:
#   SERVER_URL=http://45.76.123.45
#   SERVER_URL=http://knosi.yourdomain.com
#   SERVER_URL=https://knosi.yourdomain.com (if using HTTPS)
SERVER_URL=http://localhost
